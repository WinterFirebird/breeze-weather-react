(this["webpackJsonpbreeze-weather"]=this["webpackJsonpbreeze-weather"]||[]).push([[0],{110:function(e,t,n){},112:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(0),r=n.n(i),c=n(33),o=n.n(c),l=(n(110),n(111),n(112),n(24)),s=n(25),h=n(30),u=n(29),d=n(150),p=n(148),j=n(147),f=n(149),m=n(49),b=n.n(m),x=n(21),y=n(22),O=n(76),v=n(67),g=function(e){return Object(v.a)(1e3*e).format("{time}")},w=function(e,t){return"c"===t?Math.round(e-273.15):"f"===t?Math.round(1.8*(e-273.15)+32):e};function W(){var e=Object(x.a)(["\n      background: none;\n      outline: none;\n      border: none;\n      color: inherit;\n      font-family: inherit;\n      font-size: inherit;\n      padding: 4px;\n    "]);return W=function(){return e},e}function k(){var e=Object(x.a)(["\n      max-width: max-content;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      margin: 40px auto 20px auto;\n      div {\n        width: 100%;\n        display: flex;\n        justify-content: space-around;\n      }\n    "]);return k=function(){return e},e}var C=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).Weather=y.a.div(k()),a.TransparentButton=y.a.button(W()),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.city,n=e.country,i=e.displayName,r=e.temp,c=e.feelsLike,o=e.main,l=e.humidity,s=e.sunrise,h=e.sunset,u=e.icon,d=e.imperial,p=e.locationHandler,j=e.preciseLocation;return Object(a.jsxs)(this.Weather,{children:[j?Object(a.jsxs)(this.TransparentButton,{onClick:p,disabled:!0,style:{opacity:"0.7"},children:["Use precise location",Object(a.jsx)(O.a,{name:"location arrow"})]}):Object(a.jsxs)(this.TransparentButton,{onClick:p,children:["Use precise location",Object(a.jsx)(O.a,{name:"location arrow"})]}),t?Object(a.jsxs)("h1",{children:[t,", ",n]}):Object(a.jsx)("h1",{children:i}),Object(a.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(u,"@2x.png"),alt:"main weather icon"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:d?"".concat(w(r,"f")," \xb0F"):"".concat(w(r,"c")," \xb0C")}),Object(a.jsx)("h2",{children:o})]}),Object(a.jsxs)("h4",{children:["Feels like: ",d?"".concat(w(c,"f")," \xb0F"):"".concat(w(c,"c")," \xb0C")]}),Object(a.jsxs)("h4",{children:["Humidity: ",l,"%"]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsxs)("h4",{children:["Sunrise:",g(s)]})}),Object(a.jsx)("div",{children:Object(a.jsxs)("h4",{children:["Sunset:",g(h)]})})]})]})}}]),n}(i.Component);function L(){var e=Object(x.a)(["\n      display: flex;\n      justify-content: flex-start;\n      width: 100%;\n      padding: 10px;\n      margin: 20px auto 10px auto;\n      overflow-x: scroll;\n    "]);return L=function(){return e},e}function M(){var e=Object(x.a)(["\n      max-width: 70%;\n      margin-left: auto;\n      margin-right: auto;\n    "]);return M=function(){return e},e}var F=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).Weather=y.a.div(M()),a.WeatherWrapper=y.a.div(L()),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.weather,n=e.imperial,i=t.map((function(e,t){var i,r=(i=t,v.a.now().add(i,"hour").format("{hour} {ampm}"));return Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)("h4",{children:n?"".concat(w(e.temp,"f")," \xb0F"):"".concat(w(e.temp,"c")," \xb0C")}),Object(a.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon,".png"),alt:"".concat(e.weatherMain," icon")}),Object(a.jsx)("h4",{children:e.weatherMain}),Object(a.jsx)("hr",{}),Object(a.jsx)("h4",{children:r})]},t)}));return Object(a.jsxs)(this.Weather,{children:[Object(a.jsx)("h2",{style:{textAlign:"left"},children:"Hourly"}),Object(a.jsx)(this.WeatherWrapper,{children:i||null})]})}}]),n}(i.Component);function S(){var e=Object(x.a)(["\n      display: flex;\n      justify-content: flex-start;\n      width: 100%;\n      padding: 10px;      \n      margin: 20px auto 10px auto;\n      overflow-x: scroll;\n    "]);return S=function(){return e},e}function A(){var e=Object(x.a)(["\n      max-width: 70%;\n      margin-left: auto;\n      margin-right: auto;\n    "]);return A=function(){return e},e}var R=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).Weather=y.a.div(A()),a.WeatherWrapper=y.a.div(S()),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.weather,n=e.imperial,i=t.map((function(e,t){var i,r=(i=t,v.a.now().add(i,"day").format("{day} {date}")),c={day:n?"".concat(w(e.temp.day,"f")," \xb0F"):"".concat(w(e.temp.day,"c")," \xb0C"),night:n?"".concat(w(e.temp.night,"f")," \xb0F"):"".concat(w(e.temp.night,"c")," \xb0C")};return Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsxs)("h4",{style:{whiteSpace:"nowrap"},children:["\ud83d\udd06",c.day," /\ud83c\udf19 ",c.night]}),Object(a.jsx)("h4",{style:{whiteSpace:"pre-wrap"},children:r})]},t)}));return Object(a.jsxs)(this.Weather,{children:[Object(a.jsx)("h2",{style:{textAlign:"left"},children:"Daily"}),Object(a.jsx)(this.WeatherWrapper,{children:i||null})]})}}]),n}(i.Component),I=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).updateLocationAndWeather=function(e,t,n){a.setState({preciseLocation:n,location:{latitude:e,longitude:t}}),a.updateWeather()},a.updateWeather=function(){var e=a.state.location,t=e.latitude,n=e.longitude;!function(e,t,n){b.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(n,"&&appid=997d9b54abada6ff84291820778b192d")).then((function(t){return e(t)})).catch((function(e){console.log("Error happened while calling the API: \n ".concat(e))}))}(a.handleWeatherResponse,t,n),function(e,t,n){b.a.get("https://us1.locationiq.com/v1/reverse.php?key=pk.026f9b5e94ef539558116a8c355cd29f&lat=".concat(t,"&lon=").concat(n,"&zoom=10&format=json")).then((function(t){return e(t)})).catch((function(e){console.log("Error happened while calling the API: \n ".concat(e))}))}(a.handleReverseGeocodingResponse,t,n)},a.handleWeatherResponse=function(e){var t=e.data.current,n=t.temp,i=t.feels_like,r=t.weather,c=t.humidity,o=t.sunrise,l=t.sunset,s={temp:n,feelsLike:i,weatherMain:r[0].main,humidity:c,icon:r[0].icon,sunrise:o,sunset:l},h=[];e.data.hourly.forEach((function(t){if(e.data.hourly.indexOf(t)<24){var n={temp:t.temp,weatherMain:t.weather[0].main,icon:t.weather[0].icon};h.push(n)}}));var u=[];e.data.daily.forEach((function(t){if(e.data.daily.indexOf(t)<8){var n={temp:{day:t.temp.day,night:t.temp.night},weatherMain:t.weather[0].main,humidity:t.humidity,icon:t.weather[0].icon};u.push(n)}})),a.setState({weatherInfoReady:!0,currentWeather:s,hourlyWeather:h,dailyWeather:u})},a.handleReverseGeocodingResponse=function(e){var t=e.data,n=t.lat,i=t.lon,r=t.address,c=t.display_name;a.setState({location:{latitude:n,longitude:i,city:r.city?r.city:null,country:r.country,displayName:c}})},a.state={preciseLocation:!1,weatherInfoReady:!1,imperial:!1,location:{latitude:null,longitude:null,city:null,country:null,displayName:null,id:null},currentWeather:{temp:null,feelsLike:null,weatherMain:null,humidity:null,sunrise:null,sunset:null,icon:null},hourlyWeather:[{temp:null,weatherMain:null,icon:null}],dailyWeather:[{temp:{day:null,night:null},weatherMain:null,humidity:null,icon:null}]},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e;e=this.updateLocationAndWeather,b.a.get("https://ipapi.co/json/").then((function(t){var n=t.data,a=n.latitude,i=n.longitude;e(a,i,!1)})).catch((function(e){console.log("Error happened while calling the API: \n ".concat(e))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.weatherInfoReady,i=t.imperial,r=t.preciseLocation,c=t.hourlyWeather,o=t.dailyWeather,l=this.state.location,s=l.city,h=l.country,u=l.displayName,m=this.state.currentWeather,b=m.temp,x=m.feelsLike,y=m.weatherMain,O=m.humidity,v=m.icon,g=m.sunrise,w=m.sunset;return n?Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{city:s,country:h,displayName:u,temp:b,feelsLike:x,main:y,humidity:O,icon:v,sunrise:g,sunset:w,imperial:i,locationHandler:function(){return t=e.updateLocationAndWeather,void window.navigator.geolocation.getCurrentPosition((function(e){var n=e.coords,a=n.latitude,i=n.longitude;t(a,i,!0)}));var t},preciseLocation:r}),Object(a.jsx)(F,{weather:c,imperial:i}),Object(a.jsx)(R,{weather:o,imperial:i})]}):Object(a.jsx)("div",{children:Object(a.jsxs)(d.a,{style:{width:"100vw",height:"100vh"},children:[Object(a.jsx)(p.a,{active:!0,inverted:!0,children:Object(a.jsxs)(j.a,{indeterminate:!0,inverted:!0,children:[Object(a.jsx)("h1",{children:"Please wait..."}),Object(a.jsx)("hr",{}),Object(a.jsx)("h3",{children:"Fetching data"}),Object(a.jsx)("h4",{children:"Stuck? Try turning off an ad-blocking software"})]})}),Object(a.jsx)(f.a,{src:"/images/wireframe/short-paragraph.png"})]})})}}]),n}(i.Component);var P=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(I,{})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,151)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root")),E()}},[[135,1,2]]]);
//# sourceMappingURL=main.c28e0e65.chunk.js.map